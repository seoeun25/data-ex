{
  "type" : "index_hadoop",
  "spec" : {
    "dataSchema" : {
      "dataSource" : "seg_profile_test_bitset2",
      "parser" : {
        "type" : "string",
        "parseSpec" : {
          "format" : "csv",
          "dimensionsSpec" : {
            "dimensions" : ["svc_mgmt_num","sex_cd","age","age_group","age_group_cd","pay_cnt","pay_group","pay_group_cd","mobile_use_ratio","mobile_group","mobile_group_cd","eqp_type","eqp_amt","eqp_out_prc","bf_m1_arpu","bf_m3_avg_arpu","data_usage","contents_cnt","contents_amt","office_worker","self_employed","taxi_driver","household_solo","wedding","army","army_parent","pet","birth_intrest","baby_parent","toddler_parent","kinder_parent","kid_parent","element_stud","element_parent","mid_stud","mid_stud_parent","high_stud","high_stud_parent","univ_stud","univ_stud_parent","ci_cherrypicker","ci_movie","ci_golf","ci_fishing","ci_hiking","ci_ski","ci_camping","dual_income","child_yn","child_total_cnt","young_child_yn","young_child_cnt","adult_child_yn","adult_child_cnt","fmly_memb_cnt","hhld_memb_cnt","fmly_decision_maker_yn","hhld_decision_maker_yn","call_duration_fmly","call_cnt_fmly","call_duration_hhld","call_cnt_hhld","visit_loc_cnt","car","subway","train","dome_flight","intl_flight","region_name","resident","loc_hh_00","loc_hh_01","loc_hh_02","loc_hh_03","loc_hh_04","loc_hh_05","loc_hh_06","loc_hh_07","loc_hh_08","loc_hh_09","loc_hh_10","loc_hh_11","loc_hh_12","loc_hh_13","loc_hh_14","loc_hh_15","loc_hh_16","loc_hh_17","loc_hh_18","loc_hh_19","loc_hh_20","loc_hh_21","loc_hh_22","loc_hh_23","voc_snd_cnt","sms_snd_cnt","voc_cnt","sms_cnt","voc_snd_prtn_cnt","sms_snd_prtn_cnt","cnt_cdr_age_10","cnt_cdr_age_20","cnt_cdr_age_30","cnt_cdr_age_40","cnt_cdr_age_50","cnt_cdr_age_60","cnt_cdr_age_70","cdr_cat_1","cdr_cat_2","cdr_cat_3","cdr_cat_4","cdr_cat_5","cdr_cat_6","cdr_cat_7","cdr_cat_8","cdr_cat_9","cdr_cat_10","cdr_cat_11","cdr_cat_12","cdr_cat_13","cdr_cat_14","cdr_cat_15","cdr_cat_16","online_pay_ratio","offline_pay_ratio","offline_mart","offline_cvs","offline_department","offline_outlet","offline_bakery","online_multishop","online_homeshopping","online_overseas","online_fashion","online_delivery","online_food","online_bookstore","online_electronics","pay_ratio_00h","pay_ratio_01h","pay_ratio_02h","pay_ratio_03h","pay_ratio_04h","pay_ratio_05h","pay_ratio_06h","pay_ratio_07h","pay_ratio_08h","pay_ratio_09h","pay_ratio_10h","pay_ratio_11h","pay_ratio_12h","pay_ratio_13h","pay_ratio_14h","pay_ratio_15h","pay_ratio_16h","pay_ratio_17h","pay_ratio_18h","pay_ratio_19h","pay_ratio_20h","pay_ratio_21h","pay_ratio_22h","pay_ratio_23h","used_market","pcs_coupon","visit_shop_cnt","shop_order_cnt_entropy","st11_cat1","st11_cat2","st11_cat3","st11_cat4","st11_cat5","st11_cat6","st11_cat7","st11_cat8","st11_cat9","st11_cat10","st11_cat11","st11_cat12","st11_cat13","st11_cat14","st11_cat15","st11_cat16","st11_cat17","st11_cat18","st11_cat19","st11_cat20","st11_cat21","st11_cat22","st11_cat23","st11_cat24","st11_cat25","st11_cat26","st11_cat27","st11_cat28","st11_cat29","st11_cat30","st11_cat31","st11_cat32","st11_cat33","st11_cat34","st11_cat35","st11_cat36","st11_cat37","st11_cat38","st11_cat39","st11_cat40","st11_cat41","st11_cat42","st11_cat43","st11_cat44","st11_cat45","st11_cat46","st11_cat47","st11_cat48","st11_cat49","st11_cat50","st11_cat51","st11_cat52","st11_cat53","st11_cat54","st11_cat55","st11_cat56","st11_cat57","st11_cat58","st11_cat59","st11_cat60","st11_cat61","st11_cat62","st11_cat63","st11_cat64","st11_cat65","st11_cat66","st11_cat67","st11_cat68","st11_cat69","st11_cat70","st11_cat71","st11_cat72","st11_cat73","st11_cat74","st11_cat75","st11_cat76","st11_cat77","st11_cat78","st11_cat79","st11_cat80","st11_cat81","st11_cat82","st11_cat83","st11_cat84","st11_cat85","st11_cat86","st11_cat87","st11_cat88","st11_cat89","st11_cat90","st11_cat91","st11_cat92","st11_cat93","st11_cat94","st11_cat95","st11_cat96","st11_cat97","st11_cat98","st11_cat99","st11_cat100","st11_cat101","st11_cat102","st11_cat103","st11_cat104","st11_cat105","st11_cat106","st11_cat107","st11_cat108","st11_cat109","st11_cat110","st11_cat111","st11_cat112","st11_cat113","st11_cat114","st11_cat115","st11_cat116","st11_cat117","st11_cat118","st11_cat119","st11_cat120","st11_cat121","st11_cat122","st11_cat123","st11_cat124","st11_cat125","st11_cat126","st11_cat127","st11_cat128","st11_cat129","st11_cat130","st11_cat131","st11_cat132","st11_cat133","st11_cat134","st11_cat135","st11_cat136","st11_cat137","st11_cat138","st11_cat139","st11_cat140","st11_cat141","st11_cat142","st11_cat143","st11_cat144","st11_cat145","st11_cat146","st11_cat147","st11_cat148","st11_cat149","st11_cat150","st11_cat151","st11_cat152","st11_cat153","st11_cat154","st11_cat155","st11_cat156","st11_cat157","st11_cat158","st11_cat159","st11_cat160","st11_cat161","st11_cat162","st11_cat163","st11_cat164","st11_cat165","st11_cat166","st11_cat167","st11_cat168","st11_cat169","st11_cat170","st11_cat171","st11_cat172","st11_cat173","st11_cat174","st11_cat175","st11_buy_cnt","gmarket_buy_cnt","auction_buy_cnt","coupang_buy_cnt","naver_buy_cnt","ticketmonster_buy_cnt","wemakeprice_buy_cnt","ssg_buy_cnt","melon_dt_cnt","flo_dt_cnt","genie_dt_cnt","vibe_dt_cnt","bugs_dt_cnt","youtube_dt_cnt","wavve_dt_cnt","tving_dt_cnt","netflix_dt_cnt","app_dt_ratio_cat_01","app_dt_ratio_cat_02","app_dt_ratio_cat_03","app_dt_ratio_cat_04","app_dt_ratio_cat_05","app_dt_ratio_cat_06","app_dt_ratio_cat_07","app_dt_ratio_cat_08","app_dt_ratio_cat_09","app_dt_ratio_cat_10","app_dt_ratio_cat_11","app_dt_ratio_cat_12","app_dt_ratio_cat_13","app_dt_ratio_cat_14","app_dt_ratio_cat_15","app_dt_ratio_cat_16","app_dt_ratio_cat_17","app_dt_ratio_cat_18","app_dt_ratio_cat_19","app_dt_ratio_cat_20","app_dt_ratio_cat_21","app_dt_ratio_cat_22","app_dt_ratio_cat_23","app_dt_ratio_cat_24","app_dt_ratio_cat_25","app_dt_ratio_cat_26","app_dt_ratio_cat_27","app_dt_ratio_cat_28","app_dt_ratio_cat_29","app_dt_ratio_cat_30","app_wd_hh_cnt_cat01","app_wd_hh_cnt_cat02","app_wd_hh_cnt_cat03","app_wd_hh_cnt_cat04","app_wd_hh_cnt_cat05","app_wd_hh_cnt_cat06","app_wd_hh_cnt_cat07","app_wd_hh_cnt_cat08","app_wd_hh_cnt_cat09","app_wd_hh_cnt_cat10","app_wd_hh_cnt_cat11","app_wd_hh_cnt_cat12","app_wd_hh_cnt_cat13","app_wd_hh_cnt_cat14","app_wd_hh_cnt_cat15","app_wd_hh_cnt_cat16","app_wd_hh_cnt_cat17","app_wd_hh_cnt_cat18","app_wd_hh_cnt_cat19","app_wd_hh_cnt_cat20","app_wd_hh_cnt_cat21","app_wd_hh_cnt_cat22","app_wd_hh_cnt_cat23","app_wd_hh_cnt_cat24","app_wd_hh_cnt_cat25","app_wd_hh_cnt_cat26","app_wd_hh_cnt_cat27","app_wd_hh_cnt_cat28","app_wd_hh_cnt_cat29","app_wd_hh_cnt_cat30","app_hl_hh_cnt_cat01","app_hl_hh_cnt_cat02","app_hl_hh_cnt_cat03","app_hl_hh_cnt_cat04","app_hl_hh_cnt_cat05","app_hl_hh_cnt_cat06","app_hl_hh_cnt_cat07","app_hl_hh_cnt_cat08","app_hl_hh_cnt_cat09","app_hl_hh_cnt_cat10","app_hl_hh_cnt_cat11","app_hl_hh_cnt_cat12","app_hl_hh_cnt_cat13","app_hl_hh_cnt_cat14","app_hl_hh_cnt_cat15","app_hl_hh_cnt_cat16","app_hl_hh_cnt_cat17","app_hl_hh_cnt_cat18","app_hl_hh_cnt_cat19","app_hl_hh_cnt_cat20","app_hl_hh_cnt_cat21","app_hl_hh_cnt_cat22","app_hl_hh_cnt_cat23","app_hl_hh_cnt_cat24","app_hl_hh_cnt_cat25","app_hl_hh_cnt_cat26","app_hl_hh_cnt_cat27","app_hl_hh_cnt_cat28","app_hl_hh_cnt_cat29","app_hl_hh_cnt_cat30","ym"],
            "dimensionExclusions" : [ ],
            "spatialDimensions" : [ ]
          },
          "timestampSpec" : {
            "column" : "ym",
            "format" : "yyyyMM",
            "missingValue" : "2021-06-22T23:03:34.778Z",
            "invalidValue" : "2021-06-22T23:03:34.778Z",
            "replaceWrongColumn" : false,
            "timeZone" : "UTC",
            "locale" : "en"
          },
          "columns" : ["svc_mgmt_num","sex_cd","age","age_group","age_group_cd","pay_cnt","pay_group","pay_group_cd","mobile_use_ratio","mobile_group","mobile_group_cd","eqp_type","eqp_amt","eqp_out_prc","bf_m1_arpu","bf_m3_avg_arpu","data_usage","contents_cnt","contents_amt","office_worker","self_employed","taxi_driver","household_solo","wedding","army","army_parent","pet","birth_intrest","baby_parent","toddler_parent","kinder_parent","kid_parent","element_stud","element_parent","mid_stud","mid_stud_parent","high_stud","high_stud_parent","univ_stud","univ_stud_parent","ci_cherrypicker","ci_movie","ci_golf","ci_fishing","ci_hiking","ci_ski","ci_camping","dual_income","child_yn","child_total_cnt","young_child_yn","young_child_cnt","adult_child_yn","adult_child_cnt","fmly_memb_cnt","hhld_memb_cnt","fmly_decision_maker_yn","hhld_decision_maker_yn","call_duration_fmly","call_cnt_fmly","call_duration_hhld","call_cnt_hhld","visit_loc_cnt","car","subway","train","dome_flight","intl_flight","region_name","resident","loc_hh_00","loc_hh_01","loc_hh_02","loc_hh_03","loc_hh_04","loc_hh_05","loc_hh_06","loc_hh_07","loc_hh_08","loc_hh_09","loc_hh_10","loc_hh_11","loc_hh_12","loc_hh_13","loc_hh_14","loc_hh_15","loc_hh_16","loc_hh_17","loc_hh_18","loc_hh_19","loc_hh_20","loc_hh_21","loc_hh_22","loc_hh_23","voc_snd_cnt","sms_snd_cnt","voc_cnt","sms_cnt","voc_snd_prtn_cnt","sms_snd_prtn_cnt","cnt_cdr_age_10","cnt_cdr_age_20","cnt_cdr_age_30","cnt_cdr_age_40","cnt_cdr_age_50","cnt_cdr_age_60","cnt_cdr_age_70","cdr_cat_1","cdr_cat_2","cdr_cat_3","cdr_cat_4","cdr_cat_5","cdr_cat_6","cdr_cat_7","cdr_cat_8","cdr_cat_9","cdr_cat_10","cdr_cat_11","cdr_cat_12","cdr_cat_13","cdr_cat_14","cdr_cat_15","cdr_cat_16","online_pay_ratio","offline_pay_ratio","offline_mart","offline_cvs","offline_department","offline_outlet","offline_bakery","online_multishop","online_homeshopping","online_overseas","online_fashion","online_delivery","online_food","online_bookstore","online_electronics","pay_ratio_00h","pay_ratio_01h","pay_ratio_02h","pay_ratio_03h","pay_ratio_04h","pay_ratio_05h","pay_ratio_06h","pay_ratio_07h","pay_ratio_08h","pay_ratio_09h","pay_ratio_10h","pay_ratio_11h","pay_ratio_12h","pay_ratio_13h","pay_ratio_14h","pay_ratio_15h","pay_ratio_16h","pay_ratio_17h","pay_ratio_18h","pay_ratio_19h","pay_ratio_20h","pay_ratio_21h","pay_ratio_22h","pay_ratio_23h","used_market","pcs_coupon","visit_shop_cnt","shop_order_cnt_entropy","st11_cat1","st11_cat2","st11_cat3","st11_cat4","st11_cat5","st11_cat6","st11_cat7","st11_cat8","st11_cat9","st11_cat10","st11_cat11","st11_cat12","st11_cat13","st11_cat14","st11_cat15","st11_cat16","st11_cat17","st11_cat18","st11_cat19","st11_cat20","st11_cat21","st11_cat22","st11_cat23","st11_cat24","st11_cat25","st11_cat26","st11_cat27","st11_cat28","st11_cat29","st11_cat30","st11_cat31","st11_cat32","st11_cat33","st11_cat34","st11_cat35","st11_cat36","st11_cat37","st11_cat38","st11_cat39","st11_cat40","st11_cat41","st11_cat42","st11_cat43","st11_cat44","st11_cat45","st11_cat46","st11_cat47","st11_cat48","st11_cat49","st11_cat50","st11_cat51","st11_cat52","st11_cat53","st11_cat54","st11_cat55","st11_cat56","st11_cat57","st11_cat58","st11_cat59","st11_cat60","st11_cat61","st11_cat62","st11_cat63","st11_cat64","st11_cat65","st11_cat66","st11_cat67","st11_cat68","st11_cat69","st11_cat70","st11_cat71","st11_cat72","st11_cat73","st11_cat74","st11_cat75","st11_cat76","st11_cat77","st11_cat78","st11_cat79","st11_cat80","st11_cat81","st11_cat82","st11_cat83","st11_cat84","st11_cat85","st11_cat86","st11_cat87","st11_cat88","st11_cat89","st11_cat90","st11_cat91","st11_cat92","st11_cat93","st11_cat94","st11_cat95","st11_cat96","st11_cat97","st11_cat98","st11_cat99","st11_cat100","st11_cat101","st11_cat102","st11_cat103","st11_cat104","st11_cat105","st11_cat106","st11_cat107","st11_cat108","st11_cat109","st11_cat110","st11_cat111","st11_cat112","st11_cat113","st11_cat114","st11_cat115","st11_cat116","st11_cat117","st11_cat118","st11_cat119","st11_cat120","st11_cat121","st11_cat122","st11_cat123","st11_cat124","st11_cat125","st11_cat126","st11_cat127","st11_cat128","st11_cat129","st11_cat130","st11_cat131","st11_cat132","st11_cat133","st11_cat134","st11_cat135","st11_cat136","st11_cat137","st11_cat138","st11_cat139","st11_cat140","st11_cat141","st11_cat142","st11_cat143","st11_cat144","st11_cat145","st11_cat146","st11_cat147","st11_cat148","st11_cat149","st11_cat150","st11_cat151","st11_cat152","st11_cat153","st11_cat154","st11_cat155","st11_cat156","st11_cat157","st11_cat158","st11_cat159","st11_cat160","st11_cat161","st11_cat162","st11_cat163","st11_cat164","st11_cat165","st11_cat166","st11_cat167","st11_cat168","st11_cat169","st11_cat170","st11_cat171","st11_cat172","st11_cat173","st11_cat174","st11_cat175","st11_buy_cnt","gmarket_buy_cnt","auction_buy_cnt","coupang_buy_cnt","naver_buy_cnt","ticketmonster_buy_cnt","wemakeprice_buy_cnt","ssg_buy_cnt","melon_dt_cnt","flo_dt_cnt","genie_dt_cnt","vibe_dt_cnt","bugs_dt_cnt","youtube_dt_cnt","wavve_dt_cnt","tving_dt_cnt","netflix_dt_cnt","app_dt_ratio_cat_01","app_dt_ratio_cat_02","app_dt_ratio_cat_03","app_dt_ratio_cat_04","app_dt_ratio_cat_05","app_dt_ratio_cat_06","app_dt_ratio_cat_07","app_dt_ratio_cat_08","app_dt_ratio_cat_09","app_dt_ratio_cat_10","app_dt_ratio_cat_11","app_dt_ratio_cat_12","app_dt_ratio_cat_13","app_dt_ratio_cat_14","app_dt_ratio_cat_15","app_dt_ratio_cat_16","app_dt_ratio_cat_17","app_dt_ratio_cat_18","app_dt_ratio_cat_19","app_dt_ratio_cat_20","app_dt_ratio_cat_21","app_dt_ratio_cat_22","app_dt_ratio_cat_23","app_dt_ratio_cat_24","app_dt_ratio_cat_25","app_dt_ratio_cat_26","app_dt_ratio_cat_27","app_dt_ratio_cat_28","app_dt_ratio_cat_29","app_dt_ratio_cat_30","app_wd_hh_cnt_cat01","app_wd_hh_cnt_cat02","app_wd_hh_cnt_cat03","app_wd_hh_cnt_cat04","app_wd_hh_cnt_cat05","app_wd_hh_cnt_cat06","app_wd_hh_cnt_cat07","app_wd_hh_cnt_cat08","app_wd_hh_cnt_cat09","app_wd_hh_cnt_cat10","app_wd_hh_cnt_cat11","app_wd_hh_cnt_cat12","app_wd_hh_cnt_cat13","app_wd_hh_cnt_cat14","app_wd_hh_cnt_cat15","app_wd_hh_cnt_cat16","app_wd_hh_cnt_cat17","app_wd_hh_cnt_cat18","app_wd_hh_cnt_cat19","app_wd_hh_cnt_cat20","app_wd_hh_cnt_cat21","app_wd_hh_cnt_cat22","app_wd_hh_cnt_cat23","app_wd_hh_cnt_cat24","app_wd_hh_cnt_cat25","app_wd_hh_cnt_cat26","app_wd_hh_cnt_cat27","app_wd_hh_cnt_cat28","app_wd_hh_cnt_cat29","app_wd_hh_cnt_cat30","app_hl_hh_cnt_cat01","app_hl_hh_cnt_cat02","app_hl_hh_cnt_cat03","app_hl_hh_cnt_cat04","app_hl_hh_cnt_cat05","app_hl_hh_cnt_cat06","app_hl_hh_cnt_cat07","app_hl_hh_cnt_cat08","app_hl_hh_cnt_cat09","app_hl_hh_cnt_cat10","app_hl_hh_cnt_cat11","app_hl_hh_cnt_cat12","app_hl_hh_cnt_cat13","app_hl_hh_cnt_cat14","app_hl_hh_cnt_cat15","app_hl_hh_cnt_cat16","app_hl_hh_cnt_cat17","app_hl_hh_cnt_cat18","app_hl_hh_cnt_cat19","app_hl_hh_cnt_cat20","app_hl_hh_cnt_cat21","app_hl_hh_cnt_cat22","app_hl_hh_cnt_cat23","app_hl_hh_cnt_cat24","app_hl_hh_cnt_cat25","app_hl_hh_cnt_cat26","app_hl_hh_cnt_cat27","app_hl_hh_cnt_cat28","app_hl_hh_cnt_cat29","app_hl_hh_cnt_cat30","ym"]
        }
      },
      "metricsSpec" : [ {
        "type" : "relay",
        "name" : "st11_cat",
        "columnName" : "st11_cat",
        "typeName" : "bitset",
        "extractHints" : [ "prefixedBooleanColumns", "st11_cat" ]
      }
      ],
      "enforceType" : true,
      "granularitySpec" : {
        "type" : "uniform",
        "segmentGranularity" : "YEAR",
        "queryGranularity" : "DAY",
        "rollup" : false,
        "append" : false,
        "intervals" : [ "2020-01-01T00:00:00.000Z/2021-01-01T00:00:00.000Z" ]
      },
      "dimensionFixed" : false
    },
    "ioConfig" : {
      "type": "hadoop",
      "inputSpec": {
        "type": "static",
        "paths": "/data-src/mi/seg_profile/seg_profile_svc_feature_wide_monthly.csv"
      }
    },
    "tuningConfig" : {
      "type" : "hadoop",
      "partitionsSpec" : {
        "type" : "sized",
        "targetPartitionSize" : 0,
        "maxPartitionSize" : 0,
        "assumeGrouped" : false,
        "numShards" : -1
      },
      "ignoreInvalidRows" : true,
      "jobProperties" : {
        "mapreduce.map.memory.mb" : "4096",
        "mapreduce.task.files.preserve.filepattern" : ".*",
        "mapreduce.reduce.memory.mb" : "4096",
        "keep.task.files.pattern" : ".*",
        "mapreduce.map.java.opts" : "-server -Xmx4096m -Duser.timezone=UTC -Dfile.encoding=UTF-8 -XX:+PrintGCDetails -XX:+PrintGCTimeStamps",
        "mapreduce.job.user.classpath.first" : "true",
        "mapreduce.reduce.java.opts" : "-server -Xmx4096m -Duser.timezone=UTC -Dfile.encoding=UTF-8 -XX:+PrintGCDetails -XX:+PrintGCTimeStamps"
      },
      "ingestionMode" : "REDUCE_MERGE",
      "numBackgroundPersistThreads" : 0
    }
  }
}